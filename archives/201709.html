<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.1.1/normalize.min.css" type="text/css" >
<link rel="stylesheet" href="https://cdn.jsdelivr.net/flexboxgrid/6.3.0/flexboxgrid.min.css" type="text/css" >
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>QSearch Chord Chart</title>
<link rel="stylesheet" type="text/css" href="../assets/css/chord_chart.css">
</head>
<body>
<div class="row">
<div class="col-xs-12 center-xs">
<h2 id="title">各大媒體按讚群眾重疊度</h2>
<div id="legend">
<span class="legend middle-xs">電視</span>
<span class="legend middle-xs">日報</span>
<span class="legend middle-xs">雜誌</span>
</div>
</div>
</div>
<div class="row middle-sm" id="chord">
<div class="chart col-xs-12 col-sm-9 last-sm"></div>
<div class="table col-xs-12 col-sm-3 center-xs start-sm">
<h3></h3>
<div class="table-container row bottom-xs"></div>
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
<script src="https://code.jquery.com/jquery-2.1.4.js"></script>
<script src="../assets/js/chord_chart.js"></script>
<script type="text/javascript">
$(function() {
$("#title").prepend("");
$.get("https://qsearchtech.github.io/archives/chord_data/201709.json", function(data) {
console.log(data);
if (data.length) {
data = data.map(function(d) {
var id = d.id.toString();
delete d.id;
var named = {name: getNameById[id]};
Object.keys(d).forEach(function(key) {named[getNameById[key]] = d[key];});
return named;});
drawChord(data);}});
$(".legend").each(function() {
var legend = $('<span class="legend-color"></span>');
legend.css({background: getColorByType($(this).text())});
$(this).prepend(legend);});});
</script></body></html>